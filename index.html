<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine ðŸ’–</title>
<style>
body {
  height: 100vh;
  margin: 0;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Arial, sans-serif;
  text-align: center;
  position: relative;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  background-size: 400% 400%;
  animation: gradientBG 20s ease infinite;
  transition: background 1s;
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.box {
  background: white;
  padding: 30px;
  border-radius: 20px;
  z-index: 2;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  width: 340px;
  transition: transform 0.3s ease;
}

.box:hover { transform: scale(1.03); }

button {
  padding: 12px 20px;
  font-size: 18px;
  margin: 10px;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  transition: transform 0.2s;
}

#noBtn:hover { animation: shake 0.3s; }
@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}

#noBtn { position: absolute; }

.heart {
  position: absolute;
  font-size: 20px;
}

.heartSwirl {
  animation: swirl 6s linear infinite;
}

@keyframes swirl {
  0% { transform: rotate(0deg) translateX(0) rotate(0deg); }
  50% { transform: rotate(180deg) translateX(150px) rotate(-180deg); }
  100% { transform: rotate(360deg) translateX(0) rotate(-360deg); }
}

.fade-in-bounce {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeBounce 1.5s ease forwards;
}

@keyframes fadeBounce {
  0% { opacity: 0; transform: translateY(20px); }
  60% { opacity: 1; transform: translateY(-10px); }
  100% { opacity: 1; transform: translateY(0); }
}

.lyrics {
  font-style: italic;
  color: #ff4d6d;
  font-size: 20px;
  margin-bottom: 10px;
  min-height: 28px;
}

.sparkle {
  position: absolute;
  width: 5px;
  height: 5px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: sparkle 2s linear infinite;
}

@keyframes sparkle {
  0% { transform: translateY(0) scale(1); opacity: 0.8; }
  50% { transform: translateY(-20px) scale(1.5); opacity: 0.5; }
  100% { transform: translateY(0) scale(1); opacity: 0.8; }
}
</style>
</head>
<body>

<div class="box" id="card">
  <p id="question"></p>
</div>

<script>
// Heart rain
function createHeart() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.innerHTML = "ðŸ’–";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = (10 + Math.random() * 20) + "px";
  document.body.appendChild(heart);
  let fallDuration = 2 + Math.random() * 3;
  heart.style.transition = `transform ${fallDuration}s linear, opacity ${fallDuration}s linear`;
  setTimeout(() => {
    heart.style.transform = `translateY(110vh)`;
    heart.style.opacity = 0;
  }, 50);
  setTimeout(() => heart.remove(), fallDuration * 1000);
}
setInterval(createHeart, 200);

// Sparkles
function createSparkle() {
  const s = document.createElement("div");
  s.classList.add("sparkle");
  s.style.left = Math.random() * 100 + "vw";
  s.style.top = Math.random() * 100 + "vh";
  document.body.appendChild(s);
  setTimeout(() => s.remove(), 2000);
}
setInterval(createSparkle, 500);

// Typewriter
function typeWriter(text, element, delay=100, callback=null) {
  element.innerHTML = '';
  let i = 0;
  const interval = setInterval(() => {
    element.innerHTML += text.charAt(i);
    i++;
    if (i >= text.length) {
      clearInterval(interval);
      if(callback) callback();
    }
  }, delay);
}

// Runaway No button
function runAway() {
  const btn = document.getElementById("noBtn");
  btn.style.left = Math.random() * 80 + "vw";
  btn.style.top = Math.random() * 80 + "vh";
}

// Yes clicked
function yes() {
  const card = document.getElementById("card");
  card.innerHTML = `
    <div class="fade-in-bounce">
      <h1>LOVE YOU BABY ðŸ’˜</h1>
      <p class="lyrics" id="lyric"></p>
      <p style="margin-bottom:8px;">Play this ðŸŽ§</p>
      <iframe style="border-radius:12px"
        src="https://open.spotify.com/embed/track/5XeFesFbtLpXzIVDNQP22n"
        width="100%" height="80" frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
      </iframe>
      <p style="margin-top:12px;"> </p>
    </div>
  `;

  const lyricEl = document.getElementById("lyric");
  typeWriter("I wanna be yours.", lyricEl, 150);

  // Start swirling hearts
  for(let i=0;i<15;i++){
    const swirlHeart = document.createElement("div");
    swirlHeart.classList.add("heart","heartSwirl");
    swirlHeart.style.left = "50%";
    swirlHeart.style.top = "50%";
    swirlHeart.style.fontSize = (15 + Math.random()*20) + "px";
    swirlHeart.innerHTML = "ðŸ’–";
    document.body.appendChild(swirlHeart);
    setTimeout(()=> swirlHeart.remove(),6000);
  }
}

// Suspense question
const questionEl = document.getElementById("question");
typeWriter("Hmm... I have something to ask you...", questionEl, 80, () => {
  setTimeout(() => {
    typeWriter("Will you be my Valentine? ðŸ’•", questionEl, 120, () => {
      const card = document.getElementById("card");
      card.innerHTML += `
        <button onclick="yes()">Yes ðŸ’–</button>
        <button id="noBtn" onmouseover="runAway()">No ðŸ™ˆ</button>
      `;
    });
  }, 800);
});
</script>

</body>
</html>
